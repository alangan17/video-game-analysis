version: 2

sources:
  - name: ext_tbl
    database: video-game-analysis-418605
    schema: vga

    tables:
      - name: external_games
      - name: external_genres
      - name: external_parent_platforms
      - name: external_platforms
      - name: external_stores
      - name: external_tags

models:
  - name: fact_release_temp
    description: "Copy from external table (from GCS), with transformed `released` and deduplicated `game_id`"
    columns:
      - name: game_id
        description: "Game ID from RAWG"
        tests:
          - unique
          - not_null

  - name: fact_release
    description: "Copy from external table (from GCS), with transformed `released` and deduplicated `game_id`"
    columns:
      - name: game_id
        description: "Game ID from RAWG"
        tests:
          - unique
          - not_null